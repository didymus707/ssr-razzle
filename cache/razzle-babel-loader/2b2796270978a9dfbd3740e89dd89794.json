{"ast":null,"code":"import _extends from \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nconst _excluded = [\"channel\"];\nvar _jsxFileName = \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/integrations/components/PhoneIntegration.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { Box, Text, useToast } from '@chakra-ui/core';\nimport { ToastBox, Button } from 'app/components';\nimport { ConnectedAccounts } from './ConnectedAccts';\nimport { disconnectCredential } from '../../channels';\nimport { selectOrganisationID } from '../../../unauthenticated-app/authentication';\nexport function PhoneIntegration(_ref) {\n  let {\n    channel\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  const {\n    0: isModalOpen,\n    1: setIsModalOpen\n  } = useState(false);\n  const {\n    0: isModalBtnLoading,\n    1: setIsModalBtnLoading\n  } = useState(false);\n  const toast = useToast();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const organisation_id = useSelector(selectOrganisationID);\n\n  const handleChannelDisconnction = async (platform_nick, credential_id) => {\n    setIsModalBtnLoading(true);\n\n    try {\n      if (platform_nick) {\n        await dispatch(disconnectCredential({\n          credential_id\n        }));\n        setIsModalOpen(false);\n        toast({\n          position: 'bottom-left',\n          render: ({\n            onClose\n          }) => __jsx(ToastBox, {\n            status: \"success\",\n            onClose: onClose,\n            message: `${platform_nick} has been disconnected`,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 13\n            }\n          })\n        });\n      }\n    } catch (error) {\n      toast({\n        position: 'bottom-left',\n        render: ({\n          onClose\n        }) => __jsx(ToastBox, {\n          onClose: onClose,\n          message: error,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 34\n          }\n        })\n      });\n    }\n\n    setIsModalBtnLoading(false);\n  };\n\n  return __jsx(Box, {\n    height: \"100vh\",\n    backgroundColor: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, __jsx(NavLink, {\n    to: \"/s/channels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, __jsx(Text, {\n    as: \"span\",\n    fontWeight: 500,\n    color: \"rgba(17, 17, 17, 0.5)\",\n    marginTop: \"2rem\",\n    display: \"inline-block\",\n    marginLeft: \"2.5rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Back to Apps\")), __jsx(Box, {\n    px: \"1rem\",\n    paddingTop: \"1.875rem\",\n    marginX: \"auto\",\n    maxWidth: \"20.125rem\",\n    color: \"brandBlack\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, __jsx(Text, {\n    textAlign: \"center\",\n    marginBottom: \"2.375rem\",\n    fontWeight: \"bold\",\n    fontSize: \"1.125rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Get Started with Numbers\"), __jsx(Button, {\n    fontSize: \".75rem\",\n    isFullWidth: true,\n    variantColor: \"blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"Make a demo call\"), __jsx(Button, {\n    isFullWidth: true,\n    fontWeight: 600,\n    fontSize: \".75rem\",\n    variantColor: \"blue\",\n    marginTop: \".375rem\",\n    marginBottom: \"3.125rem\",\n    onClick: () => history.push('/s/inbox'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Send a text message\"), organisation_id && __jsx(ConnectedAccounts, _extends({\n    channel: channel,\n    disconnectAccount: handleChannelDisconnction,\n    isDisconnectLoading: isModalBtnLoading,\n    isModalOpen: isModalOpen,\n    handleModelOpen: setIsModalOpen,\n    data: {\n      organisation_id,\n      subHeading: 'Phone number(s) List',\n      disconnectBtnText: 'Remove Number'\n    }\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/integrations/components/PhoneIntegration.tsx"],"names":["React","useState","useDispatch","useSelector","NavLink","useHistory","Box","Text","useToast","ToastBox","Button","ConnectedAccounts","disconnectCredential","selectOrganisationID","PhoneIntegration","channel","props","isModalOpen","setIsModalOpen","isModalBtnLoading","setIsModalBtnLoading","toast","dispatch","history","organisation_id","handleChannelDisconnction","platform_nick","credential_id","position","render","onClose","error","push","subHeading","disconnectBtnText"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { Box, Text, useToast } from '@chakra-ui/core';\nimport { PhoneIntegrationProps } from '../integrations.type';\nimport { ToastBox, Button } from 'app/components';\nimport { ConnectedAccounts } from './ConnectedAccts';\nimport { disconnectCredential } from '../../channels';\nimport { selectOrganisationID } from '../../../unauthenticated-app/authentication';\n\nexport function PhoneIntegration({ channel, ...props }: PhoneIntegrationProps) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isModalBtnLoading, setIsModalBtnLoading] = useState(false);\n  const toast = useToast();\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n  const organisation_id = useSelector(selectOrganisationID);\n\n  const handleChannelDisconnction = async (platform_nick: string, credential_id: string) => {\n    setIsModalBtnLoading(true);\n\n    try {\n      if (platform_nick) {\n        await dispatch(disconnectCredential({ credential_id }));\n\n        setIsModalOpen(false);\n\n        toast({\n          position: 'bottom-left',\n          render: ({ onClose }) => (\n            <ToastBox\n              status=\"success\"\n              onClose={onClose}\n              message={`${platform_nick} has been disconnected`}\n            />\n          ),\n        });\n      }\n    } catch (error) {\n      toast({\n        position: 'bottom-left',\n        render: ({ onClose }) => <ToastBox onClose={onClose} message={error} />,\n      });\n    }\n\n    setIsModalBtnLoading(false);\n  };\n\n  return (\n    <Box height=\"100vh\" backgroundColor=\"white\">\n      <NavLink to=\"/s/channels\">\n        <Text\n          as=\"span\"\n          fontWeight={500}\n          color=\"rgba(17, 17, 17, 0.5)\"\n          marginTop=\"2rem\"\n          display=\"inline-block\"\n          marginLeft=\"2.5rem\"\n        >\n          Back to Apps\n        </Text>\n      </NavLink>\n\n      <Box px=\"1rem\" paddingTop=\"1.875rem\" marginX=\"auto\" maxWidth=\"20.125rem\" color=\"brandBlack\">\n        <Text textAlign=\"center\" marginBottom=\"2.375rem\" fontWeight=\"bold\" fontSize=\"1.125rem\">\n          Get Started with Numbers\n        </Text>\n\n        <Button fontSize=\".75rem\" isFullWidth variantColor=\"blue\">\n          Make a demo call\n        </Button>\n\n        <Button\n          isFullWidth\n          fontWeight={600}\n          fontSize=\".75rem\"\n          variantColor=\"blue\"\n          marginTop=\".375rem\"\n          marginBottom=\"3.125rem\"\n          onClick={() => history.push('/s/inbox')}\n        >\n          Send a text message\n        </Button>\n\n        {organisation_id && (\n          <ConnectedAccounts\n            channel={channel}\n            disconnectAccount={handleChannelDisconnction}\n            isDisconnectLoading={isModalBtnLoading}\n            isModalOpen={isModalOpen}\n            handleModelOpen={setIsModalOpen}\n            data={{\n              organisation_id,\n              subHeading: 'Phone number(s) List',\n              disconnectBtnText: 'Remove Number',\n            }}\n            {...props}\n          />\n        )}\n      </Box>\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}