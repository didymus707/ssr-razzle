{"ast":null,"code":"var _jsxFileName = \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/inbox/components/messages/AssignmentMenu.tsx\";\nvar __jsx = React.createElement;\nimport { Avatar, Box, Icon, Popover, PopoverBody, PopoverContent, PseudoBox, Stack, Tab, TabList, TabPanel, TabPanels, Tabs } from '@chakra-ui/core';\nimport { selectOtherOrgMembers, selectTeams } from 'app/authenticated-app/settings/slices';\nimport { Input, OutsideClickHandler, XSmallText } from 'app/components';\nimport { selectUserID } from 'app/unauthenticated-app/authentication';\nimport React, { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nexport const AssignmentMenu = props => {\n  const {\n    isOpen,\n    onClose,\n    onItemClick,\n    assignments\n  } = props;\n  return __jsx(Popover, {\n    isOpen: isOpen,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, __jsx(OutsideClickHandler, {\n    maxW: \"305px\",\n    display: \"block\",\n    onClickOutside: () => onClose === null || onClose === void 0 ? void 0 : onClose(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, __jsx(PopoverContent, {\n    px: \"0\",\n    top: \"5rem\",\n    zIndex: 10,\n    maxW: \"305px\",\n    right: \"1rem\",\n    borderWidth: \"0\",\n    position: \"absolute\",\n    boxShadow: \"0px 5px 20px rgba(21, 27, 38, 0.08)\",\n    _focus: {\n      outline: 'none',\n      boxShadow: '0px 5px 20px rgba(21, 27, 38, 0.08)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, __jsx(PopoverBody, {\n    px: \"0\",\n    py: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(DataTabs, {\n    data: [{\n      label: 'User',\n      content: __jsx(UserTab, {\n        onItemClick: onItemClick,\n        assignments: assignments,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 28\n        }\n      })\n    }, {\n      label: 'Team',\n      content: __jsx(TeamTab, {\n        onItemClick: onItemClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 43\n        }\n      })\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })))));\n};\n\nconst DataTabs = props => {\n  const {\n    data\n  } = props;\n  return __jsx(Tabs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, __jsx(TabList, {\n    px: \"0.75rem\",\n    borderBottom: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, data.map((tab, index) => __jsx(Tab, {\n    color: \"gray.900\",\n    _focus: {\n      boxShadow: 'none'\n    },\n    p: \"0.5rem 0\",\n    mx: \"0.5rem\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, tab.label))), __jsx(TabPanels, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, data.map((tab, index) => __jsx(TabPanel, {\n    py: 4,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, tab.content))));\n};\n\nconst UserTab = props => {\n  const {\n    onItemClick,\n    assignments\n  } = props;\n  const {\n    0: search,\n    1: setSearch\n  } = useState('');\n  const assignedUsers = assignments === null || assignments === void 0 ? void 0 : assignments.map(item => item.user_id);\n  const user_id = useSelector(selectUserID);\n  const otherOrgMembers = useSelector(state => selectOtherOrgMembers(state, {\n    user_id: user_id || ''\n  }));\n  let members = useMemo(() => otherOrgMembers.filter(({\n    first_name,\n    last_name\n  }) => first_name.toLocaleLowerCase().includes(search.toLocaleLowerCase()) || last_name.toLocaleLowerCase().includes(search.toLocaleLowerCase())), [search, otherOrgMembers]);\n  return __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, __jsx(Box, {\n    px: \"0.75rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, __jsx(Input, {\n    size: \"sm\",\n    value: search,\n    rounded: \"100px\",\n    borderColor: \"gray.200\",\n    rightIcon: __jsx(Icon, {\n      name: \"search\",\n      color: \"gray.400\",\n      size: \"1rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 22\n      }\n    }),\n    onChange: e => setSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  })), __jsx(Stack, {\n    mt: \"0.5rem\",\n    spacing: \"0\",\n    height: \"200px\",\n    overflowY: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, members.map(member => {\n    const {\n      id,\n      first_name,\n      last_name\n    } = member;\n    return __jsx(PseudoBox, {\n      key: id,\n      py: \"0.5rem\",\n      px: \"0.75rem\",\n      display: \"flex\",\n      cursor: \"pointer\",\n      alignItems: \"center\",\n      _hover: {\n        bg: 'gray.200'\n      },\n      justifyContent: \"space-between\",\n      onClick: () => onItemClick === null || onItemClick === void 0 ? void 0 : onItemClick(member),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, __jsx(Stack, {\n      cursor: \"pointer\",\n      isInline: true,\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, __jsx(Avatar, {\n      name: `${first_name} ${last_name}`,\n      size: \"xs\",\n      bg: \"#5D34A5\",\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }), __jsx(XSmallText, {\n      color: \"gray.900\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, `${first_name} ${last_name}`)), (assignedUsers === null || assignedUsers === void 0 ? void 0 : assignedUsers.includes(id)) && __jsx(Icon, {\n      name: \"check\",\n      size: \"0.8rem\",\n      color: \"#5ACA75\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 47\n      }\n    }));\n  })));\n};\n\nconst TeamTab = props => {\n  const {\n    onItemClick\n  } = props;\n  const {\n    0: search,\n    1: setSearch\n  } = useState('');\n  const orgTeams = useSelector(selectTeams);\n  let teams = useMemo(() => orgTeams.filter(({\n    name\n  }) => name.toLocaleLowerCase().includes(search.toLocaleLowerCase())), [search, orgTeams]);\n  return __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }\n  }, __jsx(Box, {\n    px: \"0.75rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }, __jsx(Input, {\n    size: \"sm\",\n    value: search,\n    rounded: \"100px\",\n    borderColor: \"gray.200\",\n    rightIcon: __jsx(Icon, {\n      name: \"search\",\n      color: \"gray.400\",\n      size: \"1rem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 22\n      }\n    }),\n    onChange: e => setSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  })), __jsx(Stack, {\n    mt: \"0.5rem\",\n    spacing: \"0\",\n    height: \"200px\",\n    overflowY: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, teams.map(team => {\n    const {\n      id,\n      name\n    } = team;\n    return __jsx(PseudoBox, {\n      key: id,\n      py: \"0.5rem\",\n      px: \"0.75rem\",\n      cursor: \"pointer\",\n      _hover: {\n        bg: 'gray.200'\n      },\n      onClick: () => onItemClick === null || onItemClick === void 0 ? void 0 : onItemClick(team),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, __jsx(Stack, {\n      isInline: true,\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }, __jsx(Avatar, {\n      name: name,\n      size: \"xs\",\n      bg: \"#5D34A5\",\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }), __jsx(XSmallText, {\n      color: \"gray.900\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, name)));\n  })));\n};","map":{"version":3,"sources":["/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/inbox/components/messages/AssignmentMenu.tsx"],"names":["Avatar","Box","Icon","Popover","PopoverBody","PopoverContent","PseudoBox","Stack","Tab","TabList","TabPanel","TabPanels","Tabs","selectOtherOrgMembers","selectTeams","Input","OutsideClickHandler","XSmallText","selectUserID","React","useMemo","useState","useSelector","AssignmentMenu","props","isOpen","onClose","onItemClick","assignments","outline","boxShadow","label","content","DataTabs","data","map","tab","index","UserTab","search","setSearch","assignedUsers","item","user_id","otherOrgMembers","state","members","filter","first_name","last_name","toLocaleLowerCase","includes","e","target","value","member","id","bg","TeamTab","orgTeams","teams","name","team"],"mappings":"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","sourcesContent":["import {\n  Avatar,\n  Box,\n  Icon,\n  Popover,\n  PopoverBody,\n  PopoverContent,\n  PseudoBox,\n  Stack,\n  Tab,\n  TabList,\n  TabPanel,\n  TabPanels,\n  Tabs,\n} from '@chakra-ui/core';\nimport { Team, TeamMember } from 'app/authenticated-app/settings/settings.types';\nimport { selectOtherOrgMembers, selectTeams } from 'app/authenticated-app/settings/slices';\nimport { Input, OutsideClickHandler, XSmallText } from 'app/components';\nimport { selectUserID } from 'app/unauthenticated-app/authentication';\nimport React, { ChangeEvent, ReactNode, useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from 'root';\nimport { ThreadSchema } from '../../inbox.types';\n\nexport type AssignmentMenuProps = {\n  isOpen?: boolean;\n  onClose?(): void;\n  onItemClick?(member?: Partial<TeamMember> | Partial<Team>): void;\n  assignments?: ThreadSchema['assignees'];\n};\n\nexport const AssignmentMenu = (props: AssignmentMenuProps) => {\n  const { isOpen, onClose, onItemClick, assignments } = props;\n  return (\n    <Popover isOpen={isOpen} onClose={onClose}>\n      <OutsideClickHandler maxW=\"305px\" display=\"block\" onClickOutside={() => onClose?.()}>\n        <PopoverContent\n          px=\"0\"\n          top=\"5rem\"\n          zIndex={10}\n          maxW=\"305px\"\n          right=\"1rem\"\n          borderWidth=\"0\"\n          position=\"absolute\"\n          boxShadow=\"0px 5px 20px rgba(21, 27, 38, 0.08)\"\n          _focus={{ outline: 'none', boxShadow: '0px 5px 20px rgba(21, 27, 38, 0.08)' }}\n        >\n          <PopoverBody px=\"0\" py=\"0\">\n            <DataTabs\n              data={[\n                {\n                  label: 'User',\n                  content: <UserTab onItemClick={onItemClick} assignments={assignments} />,\n                },\n                { label: 'Team', content: <TeamTab onItemClick={onItemClick} /> },\n              ]}\n            />\n          </PopoverBody>\n        </PopoverContent>\n      </OutsideClickHandler>\n    </Popover>\n  );\n};\n\nconst DataTabs = (props: { data: { label: string; content: ReactNode }[] }) => {\n  const { data } = props;\n\n  return (\n    <Tabs>\n      <TabList px=\"0.75rem\" borderBottom=\"0\">\n        {data.map((tab, index) => (\n          <Tab color=\"gray.900\" _focus={{ boxShadow: 'none' }} p=\"0.5rem 0\" mx=\"0.5rem\" key={index}>\n            {tab.label}\n          </Tab>\n        ))}\n      </TabList>\n      <TabPanels>\n        {data.map((tab, index) => (\n          <TabPanel py={4} key={index}>\n            {tab.content}\n          </TabPanel>\n        ))}\n      </TabPanels>\n    </Tabs>\n  );\n};\n\nconst UserTab = (props: Pick<AssignmentMenuProps, 'assignments' | 'onItemClick'>) => {\n  const { onItemClick, assignments } = props;\n  const [search, setSearch] = useState('');\n\n  const assignedUsers = assignments?.map(item => item.user_id);\n\n  const user_id = useSelector(selectUserID);\n  const otherOrgMembers = useSelector((state: RootState) =>\n    selectOtherOrgMembers(state, { user_id: user_id || '' }),\n  );\n\n  let members: TeamMember[] = useMemo(\n    () =>\n      otherOrgMembers.filter(\n        ({ first_name, last_name }) =>\n          first_name.toLocaleLowerCase().includes(search.toLocaleLowerCase()) ||\n          last_name.toLocaleLowerCase().includes(search.toLocaleLowerCase()),\n      ),\n    [search, otherOrgMembers],\n  );\n\n  return (\n    <Box>\n      <Box px=\"0.75rem\">\n        <Input\n          size=\"sm\"\n          value={search}\n          rounded=\"100px\"\n          borderColor=\"gray.200\"\n          rightIcon={<Icon name=\"search\" color=\"gray.400\" size=\"1rem\" />}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => setSearch(e.target.value)}\n        />\n      </Box>\n\n      <Stack mt=\"0.5rem\" spacing=\"0\" height=\"200px\" overflowY=\"auto\">\n        {members.map(member => {\n          const { id, first_name, last_name } = member;\n          return (\n            <PseudoBox\n              key={id}\n              py=\"0.5rem\"\n              px=\"0.75rem\"\n              display=\"flex\"\n              cursor=\"pointer\"\n              alignItems=\"center\"\n              _hover={{ bg: 'gray.200' }}\n              justifyContent=\"space-between\"\n              onClick={() => onItemClick?.(member)}\n            >\n              <Stack cursor=\"pointer\" isInline alignItems=\"center\">\n                <Avatar name={`${first_name} ${last_name}`} size=\"xs\" bg=\"#5D34A5\" color=\"white\" />\n                <XSmallText color=\"gray.900\">{`${first_name} ${last_name}`}</XSmallText>\n              </Stack>\n              {assignedUsers?.includes(id) && <Icon name=\"check\" size=\"0.8rem\" color=\"#5ACA75\" />}\n            </PseudoBox>\n          );\n        })}\n      </Stack>\n    </Box>\n  );\n};\n\nconst TeamTab = (props: { onItemClick: AssignmentMenuProps['onItemClick'] }) => {\n  const { onItemClick } = props;\n\n  const [search, setSearch] = useState('');\n\n  const orgTeams = useSelector(selectTeams);\n\n  let teams: Team[] = useMemo(\n    () =>\n      orgTeams.filter(({ name }) => name.toLocaleLowerCase().includes(search.toLocaleLowerCase())),\n    [search, orgTeams],\n  );\n  return (\n    <Box>\n      <Box px=\"0.75rem\">\n        <Input\n          size=\"sm\"\n          value={search}\n          rounded=\"100px\"\n          borderColor=\"gray.200\"\n          rightIcon={<Icon name=\"search\" color=\"gray.400\" size=\"1rem\" />}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => setSearch(e.target.value)}\n        />\n      </Box>\n\n      <Stack mt=\"0.5rem\" spacing=\"0\" height=\"200px\" overflowY=\"auto\">\n        {teams.map(team => {\n          const { id, name } = team;\n          return (\n            <PseudoBox\n              key={id}\n              py=\"0.5rem\"\n              px=\"0.75rem\"\n              cursor=\"pointer\"\n              _hover={{ bg: 'gray.200' }}\n              onClick={() => onItemClick?.(team)}\n            >\n              <Stack isInline alignItems=\"center\">\n                <Avatar name={name} size=\"xs\" bg=\"#5D34A5\" color=\"white\" />\n                <XSmallText color=\"gray.900\">{name}</XSmallText>\n              </Stack>\n            </PseudoBox>\n          );\n        })}\n      </Stack>\n    </Box>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}