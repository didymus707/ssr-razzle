{"ast":null,"code":"var _jsxFileName = \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/home/home.component.tsx\";\nvar __jsx = React.createElement;\nimport { Box } from '@chakra-ui/core';\nimport Cookie from 'js-cookie';\nimport * as React from 'react';\nimport { useQueryClient } from 'react-query';\nimport { ContentWrapper } from '../../components';\nimport { ContactInfoCard, OnboardingTaskList, WelcomeModal } from './components';\nimport { onboardingTaskData } from './home.data';\nexport function HomeComponent(props) {\n  var _campaigns$data;\n\n  const {\n    tables,\n    teams,\n    user\n  } = props;\n  const [isOpen, setIsOpen] = React.useState(false);\n  const queryClient = useQueryClient();\n  const campaigns = queryClient.getQueryData('campaigns');\n  const channels = queryClient.getQueryData('channels');\n  React.useEffect(() => {\n    const pristine = !Cookie.get('touched');\n    if (!(user !== null && user !== void 0 && user.last_login) && pristine) setIsOpen(true);\n  }, [user]);\n  const taskList = onboardingTaskData({\n    teams,\n    tables,\n    channels,\n    campaigns: campaigns === null || campaigns === void 0 ? void 0 : (_campaigns$data = campaigns.data) === null || _campaigns$data === void 0 ? void 0 : _campaigns$data.campaigns\n  });\n\n  const closeModal = () => {\n    Cookie.set('touched', 'true');\n    setIsOpen(false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(ContentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, __jsx(Box, {\n    padding: \"4rem 1rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, __jsx(ContactInfoCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), __jsx(OnboardingTaskList, {\n    taskList: taskList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }), __jsx(WelcomeModal, {\n    isOpen: isOpen,\n    onClose: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/home/home.component.tsx"],"names":["Box","Cookie","React","useQueryClient","ContentWrapper","ContactInfoCard","OnboardingTaskList","WelcomeModal","onboardingTaskData","HomeComponent","props","tables","teams","user","isOpen","setIsOpen","useState","queryClient","campaigns","getQueryData","channels","useEffect","pristine","get","last_login","taskList","data","closeModal","set"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,iBAApB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,cAAT,QAA+B,aAA/B;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,eAAT,EAA0BC,kBAA1B,EAA8CC,YAA9C,QAAkE,cAAlE;AACA,SAASC,kBAAT,QAAmC,aAAnC;AAGA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAAyC;AAAA;;AAC9C,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB,MAA0BH,KAAhC;AACA,QAAM,CAACI,MAAD,EAASC,SAAT,IAAsBb,KAAK,CAACc,QAAN,CAAwB,KAAxB,CAA5B;AAEA,QAAMC,WAAW,GAAGd,cAAc,EAAlC;AAEA,QAAMe,SAAc,GAAGD,WAAW,CAACE,YAAZ,CAAyB,WAAzB,CAAvB;AACA,QAAMC,QAAQ,GAAGH,WAAW,CAACE,YAAZ,CAAyB,UAAzB,CAAjB;AAEAjB,EAAAA,KAAK,CAACmB,SAAN,CAAgB,MAAM;AACpB,UAAMC,QAAQ,GAAG,CAACrB,MAAM,CAACsB,GAAP,CAAW,SAAX,CAAlB;AACA,QAAI,EAACV,IAAD,aAACA,IAAD,eAACA,IAAI,CAAEW,UAAP,KAAqBF,QAAzB,EAAmCP,SAAS,CAAC,IAAD,CAAT;AACpC,GAHD,EAGG,CAACF,IAAD,CAHH;AAKA,QAAMY,QAAQ,GAAGjB,kBAAkB,CAAC;AAClCI,IAAAA,KADkC;AAElCD,IAAAA,MAFkC;AAGlCS,IAAAA,QAHkC;AAIlCF,IAAAA,SAAS,EAAEA,SAAF,aAAEA,SAAF,0CAAEA,SAAS,CAAEQ,IAAb,oDAAE,gBAAiBR;AAJM,GAAD,CAAnC;;AAOA,QAAMS,UAAU,GAAG,MAAM;AACvB1B,IAAAA,MAAM,CAAC2B,GAAP,CAAW,SAAX,EAAsB,MAAtB;AACAb,IAAAA,SAAS,CAAC,KAAD,CAAT;AACD,GAHD;;AAKA,SACE,4BACE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,OAAO,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,kBAAD;AAAoB,IAAA,QAAQ,EAAEU,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,YAAD;AAAc,IAAA,MAAM,EAAEX,MAAtB;AAA8B,IAAA,OAAO,EAAEa,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,CADF,CADF;AAWD","sourcesContent":["import { Box } from '@chakra-ui/core';\nimport Cookie from 'js-cookie';\nimport * as React from 'react';\nimport { useQueryClient } from 'react-query';\nimport { ContentWrapper } from '../../components';\nimport { ContactInfoCard, OnboardingTaskList, WelcomeModal } from './components';\nimport { onboardingTaskData } from './home.data';\nimport { HomeProps, TaskListItem } from './home.types';\n\nexport function HomeComponent(props: HomeProps) {\n  const { tables, teams, user } = props;\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n\n  const queryClient = useQueryClient();\n\n  const campaigns: any = queryClient.getQueryData('campaigns');\n  const channels = queryClient.getQueryData('channels');\n\n  React.useEffect(() => {\n    const pristine = !Cookie.get('touched');\n    if (!user?.last_login && pristine) setIsOpen(true);\n  }, [user]);\n\n  const taskList = onboardingTaskData({\n    teams,\n    tables,\n    channels,\n    campaigns: campaigns?.data?.campaigns,\n  }) as TaskListItem[];\n\n  const closeModal = () => {\n    Cookie.set('touched', 'true');\n    setIsOpen(false);\n  };\n\n  return (\n    <>\n      <ContentWrapper>\n        <Box padding=\"4rem 1rem\">\n          <ContactInfoCard />\n          <OnboardingTaskList taskList={taskList} />\n          <WelcomeModal isOpen={isOpen} onClose={closeModal} />\n        </Box>\n      </ContentWrapper>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}