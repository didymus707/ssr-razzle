{"ast":null,"code":"var _jsxFileName = \"/Users/public1/Documents/Projects/ssr-razzle/src/app/authenticated-app/lists/components/cell-properties/multiselect/cell.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Box, Icon, Input } from '@chakra-ui/core';\n\nconst MultiSelectValueItem = props => {\n  const handleDeleteValue = event => {\n    event.stopPropagation();\n    props.delete(props.id);\n  };\n\n  return __jsx(\"div\", {\n    className: \"value-item\",\n    style: {\n      fontSize: 12,\n      backgroundColor: props.color,\n      marginRight: 5,\n      padding: '2px 5px',\n      borderRadius: 2,\n      lineHeight: 'normal',\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    onClick: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, props.value, __jsx(Box, {\n    marginLeft: \"5px\",\n    display: \"flex\",\n    padding: \"2.5px\",\n    borderRadius: \"2px\",\n    backgroundColor: \"rgba(0,0,0,0.1)\",\n    onClick: handleDeleteValue,\n    className: \"close-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    name: \"close\",\n    size: \"8px\",\n    cursor: \"pointer\",\n    className: \"close-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  })));\n};\n\nconst MultiSelectInput = ({\n  addOption\n}) => {\n  const {\n    0: value,\n    1: setValue\n  } = useState('');\n\n  const handleChange = event => {\n    setValue(event.target.value);\n  };\n\n  const handleKeyPress = e => {\n    if (e.key !== 'Enter') return;\n    if (value === '') return;\n    addOption(value);\n    setValue('');\n  };\n\n  return __jsx(Input, {\n    variant: \"unstyled\",\n    value: value,\n    onChange: handleChange,\n    onKeyPress: handleKeyPress,\n    fontSize: \"14px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  });\n};\n\nexport const MultiSelectCell = props => {\n  let value = props.value;\n  if (!Array.isArray(props.value) && value) value = [value];\n  if (!value) value = [];\n  let options = props._column.options || [];\n  options = options.filter(i => !i.isDeleted); // eslint-disable-next-line\n\n  const selected_options = options.filter(i => value.some(val => val == i.id));\n\n  const addOption = async option_name => {\n    const option = await props.addOption(props._column.uid, option_name);\n    const row_index = props.node.rowIndex;\n    const row = await props.getRowByIndex(row_index);\n    const columnID = props._column.uid;\n    const row_id = row['uid'];\n    await props.updateCellValue([...value, option.id], row_id, columnID);\n  };\n\n  const deleteValue = async option_id => {\n    const row_index = props.node.rowIndex;\n    const row = await props.getRowByIndex(row_index);\n    const columnID = props._column.uid;\n    const row_id = row['uid'];\n    const updated_value = selected_options.filter(option => option.id !== option_id).map(option => option.id);\n    props.updateCellValue(updated_value, row_id, columnID);\n  };\n\n  return __jsx(\"div\", {\n    className: \"select-cell\",\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, selected_options.map(option => __jsx(MultiSelectValueItem, {\n    value: option.name,\n    color: option.color,\n    delete: deleteValue,\n    key: option.id,\n    id: option.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }))), __jsx(MultiSelectInput, {\n    addOption: addOption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/public1/Documents/Projects/ssr-razzle/src/app/authenticated-app/lists/components/cell-properties/multiselect/cell.tsx"],"names":["React","useState","Box","Icon","Input","MultiSelectValueItem","props","handleDeleteValue","event","stopPropagation","delete","id","fontSize","backgroundColor","color","marginRight","padding","borderRadius","lineHeight","display","flexDirection","alignItems","e","value","MultiSelectInput","addOption","setValue","handleChange","target","handleKeyPress","key","MultiSelectCell","Array","isArray","options","_column","filter","i","isDeleted","selected_options","some","val","option_name","option","uid","row_index","node","rowIndex","row","getRowByIndex","columnID","row_id","updateCellValue","deleteValue","option_id","updated_value","map","name"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Box, Icon, Input } from '@chakra-ui/core';\n\nconst MultiSelectValueItem = (props: any) => {\n  const handleDeleteValue = (event: any) => {\n    event.stopPropagation();\n    props.delete(props.id);\n  };\n\n  return (\n    <div\n      className=\"value-item\"\n      style={{\n        fontSize: 12,\n        backgroundColor: props.color,\n        marginRight: 5,\n        padding: '2px 5px',\n        borderRadius: 2,\n        lineHeight: 'normal',\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n      }}\n      onClick={(e: any) => e.stopPropagation()}\n    >\n      {props.value}\n      <Box\n        marginLeft=\"5px\"\n        display=\"flex\"\n        padding=\"2.5px\"\n        borderRadius=\"2px\"\n        backgroundColor=\"rgba(0,0,0,0.1)\"\n        onClick={handleDeleteValue}\n        className=\"close-icon\"\n      >\n        <Icon name=\"close\" size=\"8px\" cursor=\"pointer\" className=\"close-icon\" />\n      </Box>\n    </div>\n  );\n};\n\nconst MultiSelectInput = ({ addOption }: any) => {\n  const [value, setValue] = useState('');\n\n  const handleChange = (event: any) => {\n    setValue(event.target.value);\n  };\n\n  const handleKeyPress = (e: any) => {\n    if (e.key !== 'Enter') return;\n    if (value === '') return;\n    addOption(value);\n    setValue('');\n  };\n\n  return (\n    <Input\n      variant=\"unstyled\"\n      value={value}\n      onChange={handleChange}\n      onKeyPress={handleKeyPress}\n      fontSize=\"14px\"\n    />\n  );\n};\n\nexport const MultiSelectCell = (props: any) => {\n  let value = props.value;\n  if (!Array.isArray(props.value) && value) value = [value];\n  if (!value) value = [];\n  let options = props._column.options || [];\n  options = options.filter((i: any) => !i.isDeleted);\n  // eslint-disable-next-line\n  const selected_options = options.filter((i: any) => value.some((val: any) => val == i.id));\n\n  const addOption = async (option_name: string) => {\n    const option = await props.addOption(props._column.uid, option_name);\n    const row_index = props.node.rowIndex;\n    const row = await props.getRowByIndex(row_index);\n    const columnID = props._column.uid;\n    const row_id = row['uid'];\n    await props.updateCellValue([...value, option.id], row_id, columnID);\n  };\n\n  const deleteValue = async (option_id: string | number) => {\n    const row_index = props.node.rowIndex;\n    const row = await props.getRowByIndex(row_index);\n    const columnID = props._column.uid;\n    const row_id = row['uid'];\n    const updated_value = selected_options\n      .filter((option: any) => option.id !== option_id)\n      .map((option: any) => option.id);\n    props.updateCellValue(updated_value, row_id, columnID);\n  };\n\n  return (\n    <div className=\"select-cell\" style={{ display: 'flex', alignItems: 'center' }}>\n      <div style={{ display: 'flex' }}>\n        {selected_options.map((option: any) => (\n          <MultiSelectValueItem\n            value={option.name}\n            color={option.color}\n            delete={deleteValue}\n            key={option.id}\n            id={option.id}\n          />\n        ))}\n      </div>\n      <MultiSelectInput addOption={addOption} />\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}