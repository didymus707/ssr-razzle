{"ast":null,"code":"var _jsxFileName = \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/components/RavePayButton/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nexport class RavepayButton extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      loaded: false\n    });\n\n    _defineProperty(this, \"onClick\", () => {\n      const {\n        email,\n        amount,\n        last_name,\n        callback,\n        first_name,\n        phoneNumber,\n        currency = 'NGN',\n        payment_options = 'card'\n      } = this.props;\n      var x = window.FlutterwaveCheckout && window.FlutterwaveCheckout({\n        amount,\n        currency,\n        payment_options,\n        tx_ref: 'hooli-tx-1920bbtyt',\n        customer: {\n          email,\n          phone_number: phoneNumber,\n          name: `${first_name} ${last_name}`\n        },\n        public_key: process.env.REACT_APP_FLUTTERWAVE_TEST_PUBLIC_KEY,\n        callback: function (data) {\n          callback && callback(data);\n          x.close();\n        },\n        onclose: function () {},\n        customizations: {\n          title: 'Simpu',\n          description: 'Easy and simple business communications',\n          logo: 'https://res.cloudinary.com/techcre8/image/upload/v1595803312/logo_ho1xg7.png'\n        }\n      });\n    });\n  }\n\n  componentWillMount() {\n    if (!!window.FlutterwaveCheckout === false) {\n      let ravepay = document.createElement('script');\n      ravepay.src = 'https://checkout.flutterwave.com/v3.js';\n      document.body.appendChild(ravepay);\n      this.setState({\n        loaded: true\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (!!window.FlutterwaveCheckout) {\n      console.log('loaded');\n    }\n  }\n\n  render() {\n    return __jsx(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, this.state.loaded ? this.props.render(this.onClick, this.state.loaded) : null);\n  }\n\n}","map":{"version":3,"sources":["/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/components/RavePayButton/index.tsx"],"names":["React","RavepayButton","Component","loaded","email","amount","last_name","callback","first_name","phoneNumber","currency","payment_options","props","x","window","FlutterwaveCheckout","tx_ref","customer","phone_number","name","public_key","process","env","REACT_APP_FLUTTERWAVE_TEST_PUBLIC_KEY","data","close","onclose","customizations","title","description","logo","componentWillMount","ravepay","document","createElement","src","body","appendChild","setState","componentDidMount","console","log","render","state","onClick"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAyBA,OAAO,MAAMC,aAAN,SAA4BD,KAAK,CAACE,SAAlC,CAA0D;AAAA;AAAA;;AAAA,mCACvD;AACNC,MAAAA,MAAM,EAAE;AADF,KADuD;;AAAA,qCAIrD,MAAM;AACd,YAAM;AACJC,QAAAA,KADI;AAEJC,QAAAA,MAFI;AAGJC,QAAAA,SAHI;AAIJC,QAAAA,QAJI;AAKJC,QAAAA,UALI;AAMJC,QAAAA,WANI;AAOJC,QAAAA,QAAQ,GAAG,KAPP;AAQJC,QAAAA,eAAe,GAAG;AARd,UASF,KAAKC,KATT;AAUA,UAAIC,CAAC,GACHC,MAAM,CAACC,mBAAP,IACAD,MAAM,CAACC,mBAAP,CAA2B;AACzBV,QAAAA,MADyB;AAEzBK,QAAAA,QAFyB;AAGzBC,QAAAA,eAHyB;AAIzBK,QAAAA,MAAM,EAAE,oBAJiB;AAKzBC,QAAAA,QAAQ,EAAE;AACRb,UAAAA,KADQ;AAERc,UAAAA,YAAY,EAAET,WAFN;AAGRU,UAAAA,IAAI,EAAG,GAAEX,UAAW,IAAGF,SAAU;AAHzB,SALe;AAUzBc,QAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,qCAVC;AAWzBhB,QAAAA,QAAQ,EAAE,UAAUiB,IAAV,EAAqB;AAC7BjB,UAAAA,QAAQ,IAAIA,QAAQ,CAACiB,IAAD,CAApB;AACAX,UAAAA,CAAC,CAACY,KAAF;AACD,SAdwB;AAezBC,QAAAA,OAAO,EAAE,YAAY,CAAE,CAfE;AAgBzBC,QAAAA,cAAc,EAAE;AACdC,UAAAA,KAAK,EAAE,OADO;AAEdC,UAAAA,WAAW,EAAE,yCAFC;AAGdC,UAAAA,IAAI,EACF;AAJY;AAhBS,OAA3B,CAFF;AAyBD,KAxC8D;AAAA;;AAyC/DC,EAAAA,kBAAkB,GAAG;AACnB,QAAI,CAAC,CAACjB,MAAM,CAACC,mBAAT,KAAiC,KAArC,EAA4C;AAC1C,UAAIiB,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACAF,MAAAA,OAAO,CAACG,GAAR,GAAc,wCAAd;AACAF,MAAAA,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,OAA1B;AACA,WAAKM,QAAL,CAAc;AACZnC,QAAAA,MAAM,EAAE;AADI,OAAd;AAGD;AACF;;AACDoC,EAAAA,iBAAiB,GAAG;AAClB,QAAI,CAAC,CAACzB,MAAM,CAACC,mBAAb,EAAkC;AAChCyB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACD;AACF;;AACDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKC,KAAL,CAAWxC,MAAX,GACG,KAAKS,KAAL,CAAW8B,MAAX,CAAkB,KAAKE,OAAvB,EAAgC,KAAKD,KAAL,CAAWxC,MAA3C,CADH,GAEG,IAHN,CADF;AAOD;;AAhE8D","sourcesContent":["import React from 'react';\n\ntype State = {\n  loaded: boolean;\n};\n\ntype Props = {\n  email?: string;\n  amount: number;\n  first_name?: string;\n  last_name?: string;\n  currency?: string;\n  phoneNumber?: string;\n  redirect_url?: string;\n  payment_options?: string;\n  callback?: (data?: any) => void;\n  render: (onClick: () => void, loaded: boolean) => React.ReactNode;\n};\n\ndeclare global {\n  interface Window {\n    FlutterwaveCheckout: any;\n  }\n}\n\nexport class RavepayButton extends React.Component<Props, State> {\n  state = {\n    loaded: false,\n  };\n  onClick = () => {\n    const {\n      email,\n      amount,\n      last_name,\n      callback,\n      first_name,\n      phoneNumber,\n      currency = 'NGN',\n      payment_options = 'card',\n    } = this.props;\n    var x =\n      window.FlutterwaveCheckout &&\n      window.FlutterwaveCheckout({\n        amount,\n        currency,\n        payment_options,\n        tx_ref: 'hooli-tx-1920bbtyt',\n        customer: {\n          email,\n          phone_number: phoneNumber,\n          name: `${first_name} ${last_name}`,\n        },\n        public_key: process.env.REACT_APP_FLUTTERWAVE_TEST_PUBLIC_KEY,\n        callback: function (data: any) {\n          callback && callback(data);\n          x.close();\n        },\n        onclose: function () {},\n        customizations: {\n          title: 'Simpu',\n          description: 'Easy and simple business communications',\n          logo:\n            'https://res.cloudinary.com/techcre8/image/upload/v1595803312/logo_ho1xg7.png',\n        },\n      });\n  };\n  componentWillMount() {\n    if (!!window.FlutterwaveCheckout === false) {\n      let ravepay = document.createElement('script');\n      ravepay.src = 'https://checkout.flutterwave.com/v3.js';\n      document.body.appendChild(ravepay);\n      this.setState({\n        loaded: true,\n      });\n    }\n  }\n  componentDidMount() {\n    if (!!window.FlutterwaveCheckout) {\n      console.log('loaded');\n    }\n  }\n  render() {\n    return (\n      <form>\n        {this.state.loaded\n          ? this.props.render(this.onClick, this.state.loaded)\n          : null}\n      </form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}