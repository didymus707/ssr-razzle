{"ast":null,"code":"var _jsxFileName = \"/Users/public1/Documents/Projects/ssr-razzle/src/app/authenticated-app/payments/component/onboarding/components/content/business-details.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport { Box, Icon, Select, Spinner, useToast } from '@chakra-ui/core';\nimport { industry_options } from '../../../../payments.data';\nimport { useFormik } from 'formik';\nimport { FileSelectButton, ToastBox, Button, Input } from 'app/components';\nexport const BusinessDetails = props => {\n  const {\n    0: updateLoading,\n    1: setUpdateLoading\n  } = useState(false);\n  const {\n    0: fileUploadLoading,\n    1: setFileUploadLoading\n  } = useState(null);\n  const toast = useToast();\n\n  const handleProceed = async values => {\n    setUpdateLoading(true);\n    const res = await props.updatePaymentSetup(_objectSpread(_objectSpread({}, values), {}, {\n      status: 'pending'\n    }));\n    setUpdateLoading(false);\n\n    if (!res) {\n      toast({\n        position: 'bottom-left',\n        render: ({\n          onClose\n        }) => __jsx(ToastBox, {\n          onClose: onClose,\n          message: \"Unable to update payment setup, please try again\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 11\n          }\n        })\n      });\n      return;\n    }\n\n    props.setStage('summary');\n  };\n\n  const handleBack = () => {\n    props.setStage('account-owner');\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      industry: props.data.industry || '',\n      website: props.data.website || '',\n      phone: props.data.phone || '',\n      email: props.data.email || '',\n      facebook: props.data.facebook || '',\n      twitter: props.data.twitter || '',\n      instagram: props.data.instagram || '',\n      linkedin: props.data.linkedin || '',\n      bn_number: props.data.bn_number || '',\n      business_type: props.data.business_type\n    },\n    onSubmit: handleProceed\n  });\n  const {\n    values\n  } = formik;\n\n  const handleFileUpload = async event => {\n    const payload_key = event.target.name;\n    setFileUploadLoading(payload_key);\n    const file = event.target.files[0];\n    const res = await props.updatePaymentSetup({\n      [payload_key]: file,\n      status: 'pending'\n    });\n\n    if (!res) {\n      toast({\n        position: 'bottom-left',\n        render: ({\n          onClose\n        }) => __jsx(ToastBox, {\n          onClose: onClose,\n          message: \"Unable to upload your file, please try that again\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }\n        })\n      });\n    }\n\n    setFileUploadLoading(null);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Business Details\")), __jsx(\"div\", {\n    className: \"form-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, __jsx(Box, {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(Box, {\n    className: \"field-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Industry\"), __jsx(Select, {\n    name: \"industry\",\n    value: values.industry,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, industry_options.map((i, index) => __jsx(\"option\", {\n    key: index,\n    value: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, i))))), __jsx(Box, {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, __jsx(Box, {\n    className: \"field-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"Business Website\"), __jsx(Input, {\n    name: \"website\",\n    value: values.website,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, __jsx(Box, {\n    className: \"field-item\",\n    paddingRight: \"5px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, \"Phone Number\"), __jsx(Input, {\n    name: \"phone\",\n    value: values.phone,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  })), __jsx(Box, {\n    className: \"field-item\",\n    paddingLeft: \"5px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Email Address\"), __jsx(Input, {\n    name: \"email\",\n    value: values.email,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, __jsx(Box, {\n    className: \"field-item\",\n    paddingRight: \"5px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Facebook\"), __jsx(Input, {\n    name: \"facebook\",\n    value: values.facebook,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  })), __jsx(Box, {\n    className: \"field-item\",\n    paddingLeft: \"5px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"Instagram\"), __jsx(Input, {\n    name: \"instagram\",\n    value: values.instagram,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, __jsx(Box, {\n    className: \"field-item\",\n    paddingRight: \"5px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"Twitter\"), __jsx(Input, {\n    name: \"twitter\",\n    value: values.twitter,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  })), __jsx(Box, {\n    className: \"field-item\",\n    paddingLeft: \"5px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, \"LinkedIn\"), __jsx(Input, {\n    name: \"linkedin\",\n    value: values.linkedin,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }))), props.data.business_type === 'company' && __jsx(\"div\", {\n    className: \"financial-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, __jsx(Box, {\n    className: \"row\",\n    width: \"50%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, __jsx(Box, {\n    className: \"field-item\",\n    paddingRight: \"5px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, \"BN Number\"), __jsx(Input, {\n    name: \"bn_number\",\n    value: values.bn_number,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }))), __jsx(Box, {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, __jsx(Box, {\n    className: \"field-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, \"BN document upload\"), __jsx(Box, {\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, __jsx(FileSelectButton, {\n    name: \"bn_doc\",\n    onChange: handleFileUpload,\n    accept: \"image/*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }), props.data.bn_doc && __jsx(Box, {\n    ml: \"20px\",\n    textDecoration: \"underline\",\n    color: \"blue.500\",\n    cursor: \"pointer\",\n    onClick: () => {\n      var _props$data$bn_doc;\n\n      return window.open((_props$data$bn_doc = props.data.bn_doc) === null || _props$data$bn_doc === void 0 ? void 0 : _props$data$bn_doc.src, '_blank');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, props.data.bn_doc.fileName))), fileUploadLoading === 'bn_doc' && __jsx(Spinner, {\n    alignSelf: \"flex-end\",\n    marginY: \"10px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 50\n    }\n  })), __jsx(Box, {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, __jsx(Box, {\n    className: \"field-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, \"CAC document upload\"), __jsx(Box, {\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, __jsx(FileSelectButton, {\n    name: \"cac_doc\",\n    onChange: handleFileUpload,\n    accept: \"image/*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }\n  }), props.data.cac_doc && __jsx(Box, {\n    ml: \"20px\",\n    textDecoration: \"underline\",\n    color: \"blue.500\",\n    cursor: \"pointer\",\n    onClick: () => {\n      var _props$data$cac_doc;\n\n      return window.open((_props$data$cac_doc = props.data.cac_doc) === null || _props$data$cac_doc === void 0 ? void 0 : _props$data$cac_doc.src, '_blank');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 21\n    }\n  }, props.data.cac_doc.fileName))), fileUploadLoading === 'cac_doc' && __jsx(Spinner, {\n    alignSelf: \"flex-end\",\n    marginY: \"10px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 51\n    }\n  })), __jsx(\"div\", {\n    className: \"info-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, __jsx(Icon, {\n    name: \"info\",\n    marginRight: \"15px\",\n    size: \"26px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 15\n    }\n  }), __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  }, \"This information is required by our regulators and financial partners. It is completely secure and confidential.\")))), __jsx(\"div\", {\n    className: \"action-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    onClick: handleBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }, \"Back\"), __jsx(Button, {\n    marginLeft: \"10px\",\n    variantColor: \"blue\",\n    isLoading: updateLoading,\n    onClick: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }\n  }, \"Next\")));\n};","map":{"version":3,"sources":["/Users/public1/Documents/Projects/ssr-razzle/src/app/authenticated-app/payments/component/onboarding/components/content/business-details.tsx"],"names":["React","useState","Box","Icon","Select","Spinner","useToast","industry_options","useFormik","FileSelectButton","ToastBox","Button","Input","BusinessDetails","props","updateLoading","setUpdateLoading","fileUploadLoading","setFileUploadLoading","toast","handleProceed","values","res","updatePaymentSetup","status","position","render","onClose","setStage","handleBack","formik","initialValues","industry","data","website","phone","email","facebook","twitter","instagram","linkedin","bn_number","business_type","onSubmit","handleFileUpload","event","payload_key","target","name","file","files","handleChange","map","i","index","bn_doc","window","open","src","fileName","cac_doc","handleSubmit"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Box, Icon, Select, Spinner, useToast } from '@chakra-ui/core';\nimport { OnboardingStage, UploadedFile } from '../../../../payments.types';\nimport { industry_options } from '../../../../payments.data';\nimport { useFormik } from 'formik';\nimport { FileSelectButton, ToastBox, Button, Input } from 'app/components';\n\ninterface Props {\n  stage: OnboardingStage;\n  setStage: Function;\n  updatePaymentSetup: Function;\n  data: InitialValueProps;\n}\n\ninterface InitialValueProps {\n  industry: string;\n  website: string;\n  phone: string;\n  email: string;\n  facebook: string;\n  twitter: string;\n  instagram: string;\n  linkedin: string;\n  bn_number: string;\n  business_type: string;\n  bn_doc?: UploadedFile;\n  cac_doc?: UploadedFile;\n}\n\nexport const BusinessDetails = (props: Props) => {\n  const [updateLoading, setUpdateLoading] = useState<boolean>(false);\n  const [fileUploadLoading, setFileUploadLoading] = useState<string | null>(null);\n\n  const toast = useToast();\n\n  const handleProceed = async (values: InitialValueProps) => {\n    setUpdateLoading(true);\n    const res = await props.updatePaymentSetup({ ...values, status: 'pending' });\n    setUpdateLoading(false);\n    if (!res) {\n      toast({\n        position: 'bottom-left',\n        render: ({ onClose }) => (\n          <ToastBox onClose={onClose} message=\"Unable to update payment setup, please try again\" />\n        ),\n      });\n      return;\n    }\n    props.setStage('summary');\n  };\n\n  const handleBack = () => {\n    props.setStage('account-owner');\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      industry: props.data.industry || '',\n      website: props.data.website || '',\n      phone: props.data.phone || '',\n      email: props.data.email || '',\n      facebook: props.data.facebook || '',\n      twitter: props.data.twitter || '',\n      instagram: props.data.instagram || '',\n      linkedin: props.data.linkedin || '',\n      bn_number: props.data.bn_number || '',\n      business_type: props.data.business_type,\n    },\n    onSubmit: handleProceed,\n  });\n\n  const { values } = formik;\n\n  const handleFileUpload = async (event: any) => {\n    const payload_key = event.target.name;\n    setFileUploadLoading(payload_key);\n    const file = event.target.files[0];\n    const res = await props.updatePaymentSetup({ [payload_key]: file, status: 'pending' });\n    if (!res) {\n      toast({\n        position: 'bottom-left',\n        render: ({ onClose }) => (\n          <ToastBox onClose={onClose} message=\"Unable to upload your file, please try that again\" />\n        ),\n      });\n    }\n    setFileUploadLoading(null);\n  };\n\n  return (\n    <div>\n      <div className=\"heading\">\n        <div className=\"title\">Business Details</div>\n      </div>\n\n      <div className=\"form-section\">\n        <Box className=\"row\">\n          <Box className=\"field-item\">\n            <div className=\"label\">Industry</div>\n            <Select name=\"industry\" value={values.industry} onChange={formik.handleChange}>\n              {industry_options.map((i: string, index: number) => (\n                <option key={index} value={i}>\n                  {i}\n                </option>\n              ))}\n            </Select>\n          </Box>\n        </Box>\n\n        <Box className=\"row\">\n          <Box className=\"field-item\">\n            <div className=\"label\">Business Website</div>\n            <Input name=\"website\" value={values.website} onChange={formik.handleChange} />\n          </Box>\n        </Box>\n\n        <div className=\"row\">\n          <Box className=\"field-item\" paddingRight=\"5px\">\n            <div className=\"label\">Phone Number</div>\n            <Input name=\"phone\" value={values.phone} onChange={formik.handleChange} />\n          </Box>\n\n          <Box className=\"field-item\" paddingLeft=\"5px\">\n            <div className=\"label\">Email Address</div>\n            <Input name=\"email\" value={values.email} onChange={formik.handleChange} />\n          </Box>\n        </div>\n\n        <div className=\"row\">\n          <Box className=\"field-item\" paddingRight=\"5px\">\n            <div className=\"label\">Facebook</div>\n            <Input name=\"facebook\" value={values.facebook} onChange={formik.handleChange} />\n          </Box>\n\n          <Box className=\"field-item\" paddingLeft=\"5px\">\n            <div className=\"label\">Instagram</div>\n            <Input name=\"instagram\" value={values.instagram} onChange={formik.handleChange} />\n          </Box>\n        </div>\n\n        <div className=\"row\">\n          <Box className=\"field-item\" paddingRight=\"5px\">\n            <div className=\"label\">Twitter</div>\n            <Input name=\"twitter\" value={values.twitter} onChange={formik.handleChange} />\n          </Box>\n\n          <Box className=\"field-item\" paddingLeft=\"5px\">\n            <div className=\"label\">LinkedIn</div>\n            <Input name=\"linkedin\" value={values.linkedin} onChange={formik.handleChange} />\n          </Box>\n        </div>\n\n        {props.data.business_type === 'company' && (\n          <div className=\"financial-container\">\n            <Box className=\"row\" width=\"50%\">\n              <Box className=\"field-item\" paddingRight=\"5px\">\n                <div className=\"label\">BN Number</div>\n                <Input name=\"bn_number\" value={values.bn_number} onChange={formik.handleChange} />\n              </Box>\n            </Box>\n\n            <Box className=\"row\">\n              <Box className=\"field-item\">\n                <div className=\"label\">BN document upload</div>\n                <Box display=\"flex\">\n                  <FileSelectButton name=\"bn_doc\" onChange={handleFileUpload} accept=\"image/*\" />\n                  {props.data.bn_doc && (\n                    <Box\n                      ml=\"20px\"\n                      textDecoration=\"underline\"\n                      color=\"blue.500\"\n                      cursor=\"pointer\"\n                      onClick={() => window.open(props.data.bn_doc?.src, '_blank')}\n                    >\n                      {props.data.bn_doc.fileName}\n                    </Box>\n                  )}\n                </Box>\n              </Box>\n              {fileUploadLoading === 'bn_doc' && <Spinner alignSelf=\"flex-end\" marginY=\"10px\" />}\n            </Box>\n\n            <Box className=\"row\">\n              <Box className=\"field-item\">\n                <div className=\"label\">CAC document upload</div>\n                <Box display=\"flex\">\n                  <FileSelectButton name=\"cac_doc\" onChange={handleFileUpload} accept=\"image/*\" />\n                  {props.data.cac_doc && (\n                    <Box\n                      ml=\"20px\"\n                      textDecoration=\"underline\"\n                      color=\"blue.500\"\n                      cursor=\"pointer\"\n                      onClick={() => window.open(props.data.cac_doc?.src, '_blank')}\n                    >\n                      {props.data.cac_doc.fileName}\n                    </Box>\n                  )}\n                </Box>\n              </Box>\n              {fileUploadLoading === 'cac_doc' && <Spinner alignSelf=\"flex-end\" marginY=\"10px\" />}\n            </Box>\n\n            <div className=\"info-container\">\n              <Icon name=\"info\" marginRight=\"15px\" size=\"26px\" />\n              <Box>\n                This information is required by our regulators and financial partners. It is\n                completely secure and confidential.\n              </Box>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"action-section\">\n        <Button onClick={handleBack}>Back</Button>\n        <Button\n          marginLeft=\"10px\"\n          variantColor=\"blue\"\n          isLoading={updateLoading}\n          onClick={formik.handleSubmit}\n        >\n          Next\n        </Button>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}