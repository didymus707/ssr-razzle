{"ast":null,"code":"var _jsxFileName = \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/settings/component/payment/cards/cards.tsx\";\nvar __jsx = React.createElement;\n// @ts-nocheck\nimport React, { useState } from 'react';\nimport { Box, IconButton, Spinner, Text, useToast, Icon } from '@chakra-ui/core';\nimport { DefaultCard } from './default-card';\nimport { NewCardButton } from './new-card-button';\nimport { CardDialog } from './card-dialog';\nimport { ToastBox, Button } from '../../../../../components';\nexport const Cards = ({\n  cards,\n  default_card: default_card_id,\n  changeDefaultCard,\n  change_default_card_loading,\n  initializeCard,\n  card_form_loading,\n  fetchCards,\n  cards_loading,\n  user,\n  profile,\n  deleteCard,\n  delete_card_loading,\n  wallet_id,\n  wallet_email\n}) => {\n  const {\n    0: showDialog,\n    1: setShowDialog\n  } = useState(false);\n  const toast = useToast();\n\n  const closeDialog = () => {\n    setShowDialog(false);\n    fetchCards();\n  };\n\n  const default_card = cards.find(i => i.id === default_card_id);\n\n  const handleChangeCard = async card_id => {\n    const res = await changeDefaultCard(card_id);\n    let message = 'Default card changed successfully';\n    if (!res) message = 'Unable to set default card, please try again';\n    toast({\n      position: 'bottom-left',\n      render: ({\n        onClose\n      }) => __jsx(ToastBox, {\n        onClose: onClose,\n        message: message,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 32\n        }\n      })\n    });\n  };\n\n  const handleDeleteCard = async card_id => {\n    const res = await deleteCard(card_id);\n    let message = 'Card deleted successfully';\n    if (!res) message = 'Unable to delete card, please try again';\n    toast({\n      position: 'bottom-left',\n      render: ({\n        onClose\n      }) => __jsx(ToastBox, {\n        onClose: onClose,\n        message: message,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 32\n        }\n      })\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, __jsx(Box, {\n    className: \"section-top-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, default_card && __jsx(DefaultCard, {\n    data: default_card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 28\n    }\n  }), __jsx(NewCardButton, {\n    onClick: () => setShowDialog(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  })), __jsx(Box, {\n    className: \"cards-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, cards.map(i => __jsx(Box, {\n    className: \"item\",\n    key: i.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, __jsx(Box, {\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    alt: \"credit card\",\n    className: \"card-logo\",\n    src: `/images/credit-cards/${i.brand}.svg`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, __jsx(Box, {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, `••••  ${i.last4}`), __jsx(Box, {\n    className: \"text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, `Exp ${i.exp_month}/${i.exp_year}`))), __jsx(Box, {\n    className: \"actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"delete card\",\n    icon: \"trash\",\n    color: \"#FE3636\",\n    backgroundColor: \"white\",\n    size: \"md\",\n    fontSize: \"20px\",\n    isDisabled: i.id === default_card_id,\n    isLoading: delete_card_loading.includes(i.id),\n    onClick: () => handleDeleteCard(i.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), i.id !== default_card_id ? __jsx(Button, {\n    color: \"#1A1A1A\",\n    fontSize: \"15px\",\n    fontFamily: \"Averta\",\n    backgroundColor: \"white\",\n    onClick: () => handleChangeCard(i.id),\n    isDisabled: !!change_default_card_loading,\n    isLoading: change_default_card_loading === i.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, \"Set as default\") : __jsx(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }, __jsx(Text, {\n    color: \"#1A1A1A\",\n    fontSize: \"15px\",\n    fontWeight: \"400\",\n    fontFamily: \"Averta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, \"Default\"), __jsx(Icon, {\n    size: \"20px\",\n    name: \"check-circle\",\n    color: \"#47B881\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }))))), cards_loading && __jsx(Box, {\n    width: \"100%\",\n    marginTop: \"50px\",\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, __jsx(Spinner, {\n    margin: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  })))), __jsx(CardDialog, {\n    isOpen: showDialog,\n    onClose: closeDialog,\n    initializeCard: initializeCard,\n    isLoading: card_form_loading,\n    user: user,\n    profile: profile,\n    wallet_id: wallet_id,\n    wallet_email: wallet_email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/settings/component/payment/cards/cards.tsx"],"names":["React","useState","Box","IconButton","Spinner","Text","useToast","Icon","DefaultCard","NewCardButton","CardDialog","ToastBox","Button","Cards","cards","default_card","default_card_id","changeDefaultCard","change_default_card_loading","initializeCard","card_form_loading","fetchCards","cards_loading","user","profile","deleteCard","delete_card_loading","wallet_id","wallet_email","showDialog","setShowDialog","toast","closeDialog","find","i","id","handleChangeCard","card_id","res","message","position","render","onClose","handleDeleteCard","map","brand","last4","exp_month","exp_year","includes"],"mappings":"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","sourcesContent":["// @ts-nocheck\n\nimport React, { useState } from 'react';\nimport { Box, IconButton, Spinner, Text, useToast, Icon } from '@chakra-ui/core';\nimport { DefaultCard } from './default-card';\nimport { NewCardButton } from './new-card-button';\nimport { CardDialog } from './card-dialog';\nimport { ToastBox, Button } from '../../../../../components';\n\nexport const Cards = ({\n  cards,\n  default_card: default_card_id,\n  changeDefaultCard,\n  change_default_card_loading,\n  initializeCard,\n  card_form_loading,\n  fetchCards,\n  cards_loading,\n  user,\n  profile,\n  deleteCard,\n  delete_card_loading,\n  wallet_id,\n  wallet_email,\n}) => {\n  const [showDialog, setShowDialog] = useState(false);\n\n  const toast = useToast();\n\n  const closeDialog = () => {\n    setShowDialog(false);\n    fetchCards();\n  };\n\n  const default_card = cards.find(i => i.id === default_card_id);\n\n  const handleChangeCard = async card_id => {\n    const res = await changeDefaultCard(card_id);\n    let message = 'Default card changed successfully';\n    if (!res) message = 'Unable to set default card, please try again';\n    toast({\n      position: 'bottom-left',\n      render: ({ onClose }) => <ToastBox onClose={onClose} message={message} />,\n    });\n  };\n\n  const handleDeleteCard = async card_id => {\n    const res = await deleteCard(card_id);\n    let message = 'Card deleted successfully';\n    if (!res) message = 'Unable to delete card, please try again';\n    toast({\n      position: 'bottom-left',\n      render: ({ onClose }) => <ToastBox onClose={onClose} message={message} />,\n    });\n  };\n\n  return (\n    <>\n      <Box>\n        <Box className=\"section-top-card\">\n          {default_card && <DefaultCard data={default_card} />}\n          <NewCardButton onClick={() => setShowDialog(true)} />\n        </Box>\n        <Box className=\"cards-list\">\n          {cards.map(i => (\n            <Box className=\"item\" key={i.id}>\n              <Box display=\"flex\">\n                <img\n                  alt=\"credit card\"\n                  className=\"card-logo\"\n                  src={`/images/credit-cards/${i.brand}.svg`}\n                />\n                <Box>\n                  <Box className=\"text-primary\">{`••••  ${i.last4}`}</Box>\n                  <Box className=\"text-secondary\">{`Exp ${i.exp_month}/${i.exp_year}`}</Box>\n                </Box>\n              </Box>\n\n              <Box className=\"actions\">\n                <IconButton\n                  aria-label=\"delete card\"\n                  icon=\"trash\"\n                  color=\"#FE3636\"\n                  backgroundColor=\"white\"\n                  size=\"md\"\n                  fontSize=\"20px\"\n                  isDisabled={i.id === default_card_id}\n                  isLoading={delete_card_loading.includes(i.id)}\n                  onClick={() => handleDeleteCard(i.id)}\n                />\n\n                {i.id !== default_card_id ? (\n                  <Button\n                    color=\"#1A1A1A\"\n                    fontSize=\"15px\"\n                    fontFamily=\"Averta\"\n                    backgroundColor=\"white\"\n                    onClick={() => handleChangeCard(i.id)}\n                    isDisabled={!!change_default_card_loading}\n                    isLoading={change_default_card_loading === i.id}\n                  >\n                    Set as default\n                  </Button>\n                ) : (\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <Text color=\"#1A1A1A\" fontSize=\"15px\" fontWeight=\"400\" fontFamily=\"Averta\">\n                      Default\n                    </Text>\n                    <Icon size=\"20px\" name=\"check-circle\" color=\"#47B881\" />\n                  </Box>\n                )}\n              </Box>\n            </Box>\n          ))}\n          {cards_loading && (\n            <Box width=\"100%\" marginTop=\"50px\" display=\"flex\">\n              <Spinner margin=\"auto\" />\n            </Box>\n          )}\n        </Box>\n      </Box>\n      <CardDialog\n        isOpen={showDialog}\n        onClose={closeDialog}\n        initializeCard={initializeCard}\n        isLoading={card_form_loading}\n        user={user}\n        profile={profile}\n        wallet_id={wallet_id}\n        wallet_email={wallet_email}\n      />\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}