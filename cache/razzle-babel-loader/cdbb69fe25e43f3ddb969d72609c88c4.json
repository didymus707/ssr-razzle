{"ast":null,"code":"import _extends from \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nconst _excluded = [\"onSearch\", \"children\", \"isSearching\", \"onNewConversation\", \"showButton\", \"placeholder\"];\nvar _jsxFileName = \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/inbox/components/conversation/InboxSearch.tsx\";\nvar __jsx = React.createElement;\nimport { Avatar, Box, Icon, Popover, PopoverBody, PopoverContent, PseudoBox, Spinner, Stack, Tooltip } from '@chakra-ui/core';\nimport { BodyText, Button, Input, XSmallText } from 'app/components';\nimport React, { useRef, useState } from 'react';\nexport const InboxSearch = props => {\n  const {\n    onSearch,\n    children,\n    isSearching,\n    onNewConversation,\n    showButton = true,\n    placeholder = 'Search...'\n  } = props,\n        rest = _objectWithoutProperties(props, _excluded);\n\n  const {\n    0: query,\n    1: setQuery\n  } = useState('');\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n  const initialFocusRef = useRef(null);\n\n  const openMenu = () => setIsOpen(!isOpen);\n\n  const closeMenu = () => setIsOpen(false);\n\n  const handleSearch = e => {\n    const value = e.target.value;\n    setQuery(value);\n    onSearch === null || onSearch === void 0 ? void 0 : onSearch(value);\n\n    if (children) {\n      setTimeout(() => {\n        openMenu();\n      }, 1000);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Stack, {\n    width: \"100%\",\n    isInline: true,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, __jsx(Box, {\n    flex: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, __jsx(Input, _extends({\n    value: query,\n    borderWidth: \"0\",\n    onBlur: closeMenu,\n    ref: initialFocusRef,\n    onChange: handleSearch,\n    placeholder: placeholder,\n    backgroundColor: \"gray.100\",\n    _focus: {\n      borderWidth: '0'\n    },\n    leftIcon: __jsx(Icon, {\n      name: \"search\",\n      color: \"#828282\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 23\n      }\n    }),\n    rightIcon: isSearching && __jsx(Spinner, {\n      color: \"gray.400\",\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 39\n      }\n    })\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }))), showButton && __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    px: \"0\",\n    rounded: \"50%\",\n    variantColor: \"blue\",\n    onClick: onNewConversation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, __jsx(Tooltip, {\n    zIndex: 10000,\n    label: \"Compose message\",\n    \"aria-label\": \"compose-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, __jsx(Icon, {\n    size: \"1.2rem\",\n    name: \"inbox-compose\",\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }))))), __jsx(Popover, {\n    isOpen: isOpen,\n    onClose: closeMenu,\n    initialFocusRef: initialFocusRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, __jsx(PopoverContent, {\n    width: \"100%\",\n    maxW: \"28rem\",\n    rounded: \"4px\",\n    borderWidth: \"0\",\n    _focus: {\n      outline: 'none',\n      boxShadow: '0px 10px 15px rgba(0, 0, 0, 0.06)'\n    },\n    boxShadow: \"0px 10px 15px rgba(0, 0, 0, 0.06)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, __jsx(PopoverBody, {\n    px: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, children))));\n};\nexport const SearchPeopleItem = props => {\n  const {\n    name,\n    platform_name\n  } = props;\n  return __jsx(PseudoBox, {\n    cursor: \"pointer\",\n    _hover: {\n      bg: 'gray.100'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, __jsx(Stack, {\n    p: \"1rem\",\n    isInline: true,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, __jsx(Avatar, {\n    color: \"white\",\n    size: \"sm\",\n    name: name,\n    bg: \"#5D34A5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }), __jsx(BodyText, {\n    color: \"gray.900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, name), __jsx(XSmallText, {\n    color: \"gray.500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, platform_name)));\n};\nexport const SearchFileItem = props => {\n  const {\n    name\n  } = props;\n  return __jsx(PseudoBox, {\n    cursor: \"pointer\",\n    _hover: {\n      bg: 'gray.100'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, __jsx(Stack, {\n    p: \"1rem\",\n    isInline: true,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, __jsx(Box, {\n    width: \"1rem\",\n    height: \"1rem\",\n    rounded: \"4px\",\n    bg: \"#A4CF30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }), __jsx(BodyText, {\n    color: \"gray.900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, name)));\n};","map":{"version":3,"sources":["/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/inbox/components/conversation/InboxSearch.tsx"],"names":["Avatar","Box","Icon","Popover","PopoverBody","PopoverContent","PseudoBox","Spinner","Stack","Tooltip","BodyText","Button","Input","XSmallText","React","useRef","useState","InboxSearch","props","onSearch","children","isSearching","onNewConversation","showButton","placeholder","rest","query","setQuery","isOpen","setIsOpen","initialFocusRef","openMenu","closeMenu","handleSearch","e","value","target","setTimeout","borderWidth","outline","boxShadow","SearchPeopleItem","name","platform_name","bg","SearchFileItem"],"mappings":"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","sourcesContent":["import {\n  Avatar,\n  Box,\n  Icon,\n  Popover,\n  PopoverBody,\n  PopoverContent,\n  PseudoBox,\n  Spinner,\n  Stack,\n  Tooltip,\n} from '@chakra-ui/core';\nimport { BodyText, Button, Input, InputProps, XSmallText } from 'app/components';\nimport React, { ReactNode, useRef, useState } from 'react';\n\nexport type InboxSearchProps = {\n  children?: ReactNode;\n  showButton?: boolean;\n  isSearching?: boolean;\n  onNewConversation?(): void;\n  onSearch?(query: string): void;\n} & InputProps;\n\nexport const InboxSearch = (props: InboxSearchProps) => {\n  const {\n    onSearch,\n    children,\n    isSearching,\n    onNewConversation,\n    showButton = true,\n    placeholder = 'Search...',\n    ...rest\n  } = props;\n\n  const [query, setQuery] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n\n  const initialFocusRef = useRef<HTMLInputElement>(null);\n\n  const openMenu = () => setIsOpen(!isOpen);\n  const closeMenu = () => setIsOpen(false);\n\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setQuery(value);\n    onSearch?.(value);\n    if (children) {\n      setTimeout(() => {\n        openMenu();\n      }, 1000);\n    }\n  };\n\n  return (\n    <>\n      <Stack width=\"100%\" isInline alignItems=\"center\">\n        <Box flex={1}>\n          <Input\n            value={query}\n            borderWidth=\"0\"\n            onBlur={closeMenu}\n            ref={initialFocusRef}\n            onChange={handleSearch}\n            placeholder={placeholder}\n            backgroundColor=\"gray.100\"\n            _focus={{\n              borderWidth: '0',\n            }}\n            leftIcon={<Icon name=\"search\" color=\"#828282\" />}\n            rightIcon={isSearching && <Spinner color=\"gray.400\" size=\"sm\" />}\n            {...rest}\n          />\n        </Box>\n        {showButton && (\n          <Box>\n            <Button px=\"0\" rounded=\"50%\" variantColor=\"blue\" onClick={onNewConversation}>\n              <Tooltip zIndex={10000} label=\"Compose message\" aria-label=\"compose-message\">\n                <Icon size=\"1.2rem\" name=\"inbox-compose\" color=\"white\" />\n              </Tooltip>\n            </Button>\n          </Box>\n        )}\n      </Stack>\n      <Popover isOpen={isOpen} onClose={closeMenu} initialFocusRef={initialFocusRef}>\n        <PopoverContent\n          width=\"100%\"\n          maxW=\"28rem\"\n          rounded=\"4px\"\n          borderWidth=\"0\"\n          _focus={{ outline: 'none', boxShadow: '0px 10px 15px rgba(0, 0, 0, 0.06)' }}\n          boxShadow=\"0px 10px 15px rgba(0, 0, 0, 0.06)\"\n        >\n          <PopoverBody px=\"0\">{children}</PopoverBody>\n        </PopoverContent>\n      </Popover>\n    </>\n  );\n};\n\nexport type SearchPeopleItemProps = {\n  name?: string;\n  platform_name?: string;\n  platform_nick?: string;\n};\n\nexport const SearchPeopleItem = (props: SearchPeopleItemProps) => {\n  const { name, platform_name } = props;\n  return (\n    <PseudoBox cursor=\"pointer\" _hover={{ bg: 'gray.100' }}>\n      <Stack p=\"1rem\" isInline alignItems=\"center\">\n        <Avatar color=\"white\" size=\"sm\" name={name} bg=\"#5D34A5\" />\n        <BodyText color=\"gray.900\">{name}</BodyText>\n        <XSmallText color=\"gray.500\">{platform_name}</XSmallText>\n      </Stack>\n    </PseudoBox>\n  );\n};\n\nexport type SearchFileItemProps = {\n  name?: string;\n};\n\nexport const SearchFileItem = (props: SearchFileItemProps) => {\n  const { name } = props;\n  return (\n    <PseudoBox cursor=\"pointer\" _hover={{ bg: 'gray.100' }}>\n      <Stack p=\"1rem\" isInline alignItems=\"center\">\n        <Box width=\"1rem\" height=\"1rem\" rounded=\"4px\" bg=\"#A4CF30\" />\n        <BodyText color=\"gray.900\">{name}</BodyText>\n      </Stack>\n    </PseudoBox>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}