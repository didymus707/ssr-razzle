{"ast":null,"code":"import _extends from \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/node_modules/@babel/runtime/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/tables/components/table/table.components/TableNameEditable.tsx\";\nvar __jsx = React.createElement;\nimport { Button, Editable, EditableInput, EditablePreview, Flex, Icon, Menu, MenuButton, MenuItem, MenuList, useDisclosure } from '@chakra-ui/core';\nimport * as React from 'react';\nimport { ConfirmModal } from '../../../../../components';\n\nfunction EditableControls({\n  onDelete,\n  onRequestEdit,\n  deleteIsDisabled\n}) {\n  return __jsx(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, __jsx(MenuButton, {\n    as: Button,\n    width: \"auto\",\n    height: \"1rem\",\n    minWidth: \"unset\",\n    marginLeft: \"1rem\",\n    color: \"lightBlack\",\n    padding: \"0 0.2rem\" //@ts-ignore\n    ,\n    variant: \"unstyled\",\n    _hover: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, __jsx(Icon, {\n    name: \"more\",\n    size: \"0.8rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  })), __jsx(MenuList, {\n    minWidth: \"8rem\",\n    placement: \"bottom-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, __jsx(MenuItem, {\n    _hover: {\n      color: '#3d50df',\n      backgroundColor: 'rgba(61, 80, 223, 0.06)'\n    },\n    _focus: {\n      color: '#3d50df',\n      backgroundColor: 'rgba(61, 80, 223, 0.06)'\n    },\n    _active: {\n      color: '#3d50df',\n      backgroundColor: 'rgba(61, 80, 223, 0.06)'\n    },\n    fontSize: \"0.875rem\",\n    onClick: onRequestEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Edit\"), !deleteIsDisabled && __jsx(MenuItem, {\n    _hover: {\n      color: '#3d50df',\n      backgroundColor: 'rgba(61, 80, 223, 0.06)'\n    },\n    _focus: {\n      color: '#3d50df',\n      backgroundColor: 'rgba(61, 80, 223, 0.06)'\n    },\n    _active: {\n      color: '#3d50df',\n      backgroundColor: 'rgba(61, 80, 223, 0.06)'\n    },\n    onClick: onDelete,\n    fontSize: \"0.875rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Delete\")));\n}\n\nexport function TableNameEditable({\n  sheet,\n  tables,\n  onChange,\n  onDelete,\n  isLoading\n}) {\n  const [input, setInput] = React.useState(sheet.name || '');\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const deleteIsDisabled = (sheet === null || sheet === void 0 ? void 0 : sheet.type) === 'contact' && sheet.id === tables[0].id;\n  React.useEffect(() => {\n    setInput(sheet === null || sheet === void 0 ? void 0 : sheet.name);\n  }, [sheet]);\n\n  function handleChange(value) {\n    setInput(value);\n  }\n\n  function handleSubmit() {\n    if (input && onChange) {\n      onChange(input);\n    }\n  }\n\n  function handleDelete() {\n    if (sheet.id) {\n      onDelete && onDelete({\n        id: sheet.id,\n        callback: onClose\n      });\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Flex, {\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, __jsx(Editable, {\n    value: input,\n    defaultValue: input,\n    onSubmit: handleSubmit,\n    onChange: handleChange,\n    isPreviewFocusable: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, props => __jsx(Flex, {\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, __jsx(EditablePreview, {\n    fontWeight: 700,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }), __jsx(EditableInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }), __jsx(EditableControls, _extends({\n    onDelete: onOpen,\n    deleteIsDisabled: deleteIsDisabled\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }))))), __jsx(ConfirmModal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: \"Delete sheet\",\n    isLoading: isLoading,\n    onConfirm: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/okechukwuiheagwara/Documents/Adewale/simpu/razzle/with-typescript/src/app/authenticated-app/tables/components/table/table.components/TableNameEditable.tsx"],"names":["Button","Editable","EditableInput","EditablePreview","Flex","Icon","Menu","MenuButton","MenuItem","MenuList","useDisclosure","React","ConfirmModal","EditableControls","onDelete","onRequestEdit","deleteIsDisabled","color","backgroundColor","TableNameEditable","sheet","tables","onChange","isLoading","input","setInput","useState","name","isOpen","onOpen","onClose","type","id","useEffect","handleChange","value","handleSubmit","handleDelete","callback","props"],"mappings":"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","sourcesContent":["import {\n  Button,\n  Editable,\n  EditableInput,\n  EditablePreview,\n  Flex,\n  Icon,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n  useDisclosure,\n} from '@chakra-ui/core';\nimport * as React from 'react';\nimport { ConfirmModal } from '../../../../../components';\nimport { TablePropertiesOptions } from '../../../tables.types';\n\nfunction EditableControls({\n  onDelete,\n  onRequestEdit,\n  deleteIsDisabled,\n}: {\n  onDelete(): void;\n  onRequestEdit(): void;\n  deleteIsDisabled?: boolean;\n}) {\n  return (\n    <Menu>\n      <MenuButton\n        as={Button}\n        width=\"auto\"\n        height=\"1rem\"\n        minWidth=\"unset\"\n        marginLeft=\"1rem\"\n        color=\"lightBlack\"\n        padding=\"0 0.2rem\"\n        //@ts-ignore\n        variant=\"unstyled\"\n        _hover={{ color: 'black' }}\n      >\n        <Icon name=\"more\" size=\"0.8rem\" />\n      </MenuButton>\n      <MenuList minWidth=\"8rem\" placement=\"bottom-start\">\n        <MenuItem\n          _hover={{\n            color: '#3d50df',\n            backgroundColor: 'rgba(61, 80, 223, 0.06)',\n          }}\n          _focus={{\n            color: '#3d50df',\n            backgroundColor: 'rgba(61, 80, 223, 0.06)',\n          }}\n          _active={{\n            color: '#3d50df',\n            backgroundColor: 'rgba(61, 80, 223, 0.06)',\n          }}\n          fontSize=\"0.875rem\"\n          onClick={onRequestEdit}\n        >\n          Edit\n        </MenuItem>\n        {!deleteIsDisabled && (\n          <MenuItem\n            _hover={{\n              color: '#3d50df',\n              backgroundColor: 'rgba(61, 80, 223, 0.06)',\n            }}\n            _focus={{\n              color: '#3d50df',\n              backgroundColor: 'rgba(61, 80, 223, 0.06)',\n            }}\n            _active={{\n              color: '#3d50df',\n              backgroundColor: 'rgba(61, 80, 223, 0.06)',\n            }}\n            onClick={onDelete}\n            fontSize=\"0.875rem\"\n          >\n            Delete\n          </MenuItem>\n        )}\n      </MenuList>\n    </Menu>\n  );\n}\n\ntype TableNameEditableProps = {\n  isLoading?: boolean;\n  onChange?: (val: string) => void;\n  tables: TablePropertiesOptions[];\n  sheet: { name?: string; id?: string; type?: string | null };\n  onDelete?: (payload: { id: string | undefined; callback: () => void }) => void;\n};\n\nexport function TableNameEditable({\n  sheet,\n  tables,\n  onChange,\n  onDelete,\n  isLoading,\n}: TableNameEditableProps) {\n  const [input, setInput] = React.useState<string | undefined>(sheet.name || '');\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const deleteIsDisabled = sheet?.type === 'contact' && sheet.id === tables[0].id;\n\n  React.useEffect(() => {\n    setInput(sheet?.name);\n  }, [sheet]);\n\n  function handleChange(value: string) {\n    setInput(value);\n  }\n\n  function handleSubmit() {\n    if (input && onChange) {\n      onChange(input);\n    }\n  }\n\n  function handleDelete() {\n    if (sheet.id) {\n      onDelete && onDelete({ id: sheet.id, callback: onClose });\n    }\n  }\n\n  return (\n    <>\n      <Flex alignItems=\"center\">\n        <Editable\n          value={input}\n          defaultValue={input}\n          onSubmit={handleSubmit}\n          onChange={handleChange}\n          isPreviewFocusable={false}\n        >\n          {(props: any) => (\n            <Flex alignItems=\"center\">\n              <EditablePreview fontWeight={700} />\n              <EditableInput />\n              <EditableControls onDelete={onOpen} deleteIsDisabled={deleteIsDisabled} {...props} />\n            </Flex>\n          )}\n        </Editable>\n      </Flex>\n      <ConfirmModal\n        isOpen={isOpen}\n        onClose={onClose}\n        title=\"Delete sheet\"\n        isLoading={isLoading}\n        onConfirm={handleDelete}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}