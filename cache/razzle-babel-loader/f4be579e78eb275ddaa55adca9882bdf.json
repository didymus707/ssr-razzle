{"ast":null,"code":"import { format, utcToZonedTime } from 'date-fns-tz';\nexport const objectIsEmpty = obj => {\n  if (!Boolean(obj)) {\n    return true;\n  }\n\n  if (Object.keys(obj).length === 0) {\n    return true;\n  }\n};\nexport const toFormData = (values, files, fileName = 'file') => {\n  const formData = new FormData();\n\n  if (!objectIsEmpty(values)) {\n    const valuesArray = Object.entries(values);\n    valuesArray.forEach(value => {\n      if (Array.isArray(value[1])) {\n        const arrayString = value[1].join(',');\n        formData.set(value[0], arrayString);\n      } else if (objectIsEmpty(value[1])) {\n        const stringValue = JSON.stringify(value[1]);\n        formData.set(value[0], stringValue);\n      } else {\n        formData.set(value[0], value[1]);\n      }\n    });\n  }\n\n  if (files) {\n    formData.append(fileName !== null && fileName !== void 0 ? fileName : '', files);\n  }\n\n  return formData;\n};\nexport function validURL(str) {\n  var pattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol\n  '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n  '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n  '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n  '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n  '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator\n\n  return !!pattern.test(str);\n}\nexport function validateEmail(value) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(value);\n}\nexport const scrollToSection = id => {\n  const element = document.querySelector(`#${id}`);\n  if (!element) return;\n  element.scrollIntoView();\n};\nexport const isInViewport = id => {\n  const elem = document.querySelector(`#${id}`);\n  if (!elem) return false;\n  const style = getComputedStyle(elem);\n  if (style.display === 'none') return false;\n  if (style.visibility !== 'visible') return false;\n  if (Number(style.opacity) < 0.01) return false; // @ts-ignore\n\n  const {\n    offsetWidth,\n    offsetHeight\n  } = elem;\n\n  if (offsetWidth + offsetHeight + elem.getBoundingClientRect().height + elem.getBoundingClientRect().width === 0) {\n    return false;\n  }\n\n  const elemCenter = {\n    x: elem.getBoundingClientRect().left + offsetWidth / 2,\n    y: elem.getBoundingClientRect().top + offsetHeight / 2\n  };\n  if (elemCenter.x < 0) return false;\n  if (elemCenter.x > (document.documentElement.clientWidth || window.innerWidth)) return false;\n  if (elemCenter.y < 0) return false;\n  if (elemCenter.y > (document.documentElement.clientHeight || window.innerHeight)) return false;\n  let pointContainer = document.elementFromPoint(elemCenter.x, elemCenter.y);\n  if (!pointContainer) return false;\n\n  do {\n    if (pointContainer === elem) return true; // @ts-ignore\n  } while (pointContainer = pointContainer.parentNode);\n\n  return false;\n};\nexport function getReference() {\n  let text = '';\n  let possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.=';\n\n  for (let i = 0; i < 15; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n  return text;\n}\nexport function getZonedTime(dateString, pattern) {\n  const date = new Date(dateString);\n  const timeZone = typeof window.Intl === undefined ? '' : window.Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const zonedDate = utcToZonedTime(date, timeZone);\n  return format(zonedDate, pattern);\n}\nexport function formatCurrency(amount) {\n  const amountNotUndefined = Number(amount) || 0;\n  const amountInDecimal = amountNotUndefined.toLocaleString('en-US');\n  return amountInDecimal;\n}\nexport const getSubscriptionPlanItemIcon = service => {\n  const services_with_icons = ['apps.twitter', 'apps.messenger', 'apps.whatsapp', 'apps.instagram', 'apps.lists', 'apps.lists.rows', 'apps.lists.columns', 'credits.campaign', 'credits.social'];\n  if (services_with_icons.includes(service)) return `/images/subscription-items/${service}.svg`;\n  return '/images/subscription-items/apps.twitter.svg';\n};\nexport const getSubscriptionPlanItemUnit = service => {\n  if (service.includes('credits')) return 'credit';\n  if (['apps.twitter', 'apps.messenger', 'apps.whatsapp', 'apps.instagram'].includes(service)) return 'account';\n  if (service === 'apps.lists') return 'list';\n  if (service === 'apps.lists.rows') return 'row';\n  if (service === 'apps.lists.columns') return 'column';\n  return 'unit';\n};\nexport const numberWithCommas = x => x ? Number.isInteger(x) ? x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') : x.toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') : '0';\nexport const formUrlQueryFromObject = obj => {\n  const query = new URLSearchParams();\n  Object.keys(obj).forEach(key => {\n    const value = obj[key];\n    value && query.append(key, value);\n  });\n  return query.toString();\n};\nexport const toNumber = value => parseFloat(value.replace(/,/g, ''));\nexport const toThousandString = text => {\n  const numberValue = toNumber(text);\n\n  if (text.includes('.')) {\n    const parts = text.split('.');\n\n    if (parts.length > 1) {\n      const n = parts[0] ? toNumber(parts[0]) : 0;\n      const part0 = new Intl.NumberFormat('en-GB').format(n);\n      const part1 = parts[1].toString().substring(0, 2);\n      return `${part0}.${part1}`;\n    } else {\n      return text;\n    }\n  } else {\n    return new Intl.NumberFormat().format(numberValue);\n  }\n};\nexport function uploadFile(options) {\n  const {\n    url,\n    data,\n    file,\n    onProgress,\n    responseKey\n  } = options;\n  return new Promise((res, rej) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', url);\n\n    xhr.onload = () => {\n      const resp = JSON.parse(xhr.responseText);\n      res(resp[responseKey !== null && responseKey !== void 0 ? responseKey : '']);\n    };\n\n    xhr.onerror = evt => rej(evt);\n\n    xhr.onabort = evt => console.log(evt);\n\n    xhr.upload.onprogress = event => {\n      if (event.lengthComputable) {\n        const percentage = event.loaded / event.total * 100;\n        onProgress(Math.round(percentage));\n      }\n    };\n\n    const formData = toFormData(data, file);\n    xhr.send(formData);\n  });\n}\nexport const isServer = !(true && window.document && window.document.createElement);","map":{"version":3,"sources":["/Users/public1/Documents/Projects/ssr-razzle/src/utils/functions.ts"],"names":["format","utcToZonedTime","objectIsEmpty","obj","Boolean","Object","keys","length","toFormData","values","files","fileName","formData","FormData","valuesArray","entries","forEach","value","Array","isArray","arrayString","join","set","stringValue","JSON","stringify","append","validURL","str","pattern","RegExp","test","validateEmail","re","scrollToSection","id","element","document","querySelector","scrollIntoView","isInViewport","elem","style","getComputedStyle","display","visibility","Number","opacity","offsetWidth","offsetHeight","getBoundingClientRect","height","width","elemCenter","x","left","y","top","documentElement","clientWidth","window","innerWidth","clientHeight","innerHeight","pointContainer","elementFromPoint","parentNode","getReference","text","possible","i","charAt","Math","floor","random","getZonedTime","dateString","date","Date","timeZone","Intl","undefined","DateTimeFormat","resolvedOptions","zonedDate","formatCurrency","amount","amountNotUndefined","amountInDecimal","toLocaleString","getSubscriptionPlanItemIcon","service","services_with_icons","includes","getSubscriptionPlanItemUnit","numberWithCommas","isInteger","toString","replace","toFixed","formUrlQueryFromObject","query","URLSearchParams","key","toNumber","parseFloat","toThousandString","numberValue","parts","split","n","part0","NumberFormat","part1","substring","uploadFile","options","url","data","file","onProgress","responseKey","Promise","res","rej","xhr","XMLHttpRequest","open","onload","resp","parse","responseText","onerror","evt","onabort","console","log","upload","onprogress","event","lengthComputable","percentage","loaded","total","round","send","isServer","createElement"],"mappings":"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","sourcesContent":["import { format, utcToZonedTime } from 'date-fns-tz';\n\nexport const objectIsEmpty = (obj: object) => {\n  if (!Boolean(obj)) {\n    return true;\n  }\n  if (Object.keys(obj).length === 0) {\n    return true;\n  }\n};\n\nexport const toFormData = (values: object, files?: File, fileName: string = 'file') => {\n  const formData = new FormData();\n  if (!objectIsEmpty(values)) {\n    const valuesArray = Object.entries(values);\n    valuesArray.forEach(value => {\n      if (Array.isArray(value[1])) {\n        const arrayString = value[1].join(',');\n        formData.set(value[0], arrayString);\n      } else if (objectIsEmpty(value[1])) {\n        const stringValue = JSON.stringify(value[1]);\n        formData.set(value[0], stringValue);\n      } else {\n        formData.set(value[0], value[1]);\n      }\n    });\n  }\n  if (files) {\n    formData.append(fileName ?? '', files);\n  }\n  return formData;\n};\n\nexport function validURL(str: string) {\n  var pattern = new RegExp(\n    '^(https?:\\\\/\\\\/)?' + // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n      '(\\\\#[-a-z\\\\d_]*)?$',\n    'i',\n  ); // fragment locator\n  return !!pattern.test(str);\n}\n\nexport function validateEmail(value: string) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(value);\n}\n\nexport const scrollToSection = (id: string) => {\n  const element = document.querySelector(`#${id}`);\n  if (!element) return;\n  element.scrollIntoView();\n};\n\nexport const isInViewport = (id: string) => {\n  const elem = document.querySelector(`#${id}`);\n  if (!elem) return false;\n\n  const style = getComputedStyle(elem);\n  if (style.display === 'none') return false;\n  if (style.visibility !== 'visible') return false;\n  if (Number(style.opacity) < 0.01) return false;\n  // @ts-ignore\n  const { offsetWidth, offsetHeight } = elem;\n  if (\n    offsetWidth +\n      offsetHeight +\n      elem.getBoundingClientRect().height +\n      elem.getBoundingClientRect().width ===\n    0\n  ) {\n    return false;\n  }\n  const elemCenter = {\n    x: elem.getBoundingClientRect().left + offsetWidth / 2,\n    y: elem.getBoundingClientRect().top + offsetHeight / 2,\n  };\n  if (elemCenter.x < 0) return false;\n  if (elemCenter.x > (document.documentElement.clientWidth || window.innerWidth)) return false;\n  if (elemCenter.y < 0) return false;\n  if (elemCenter.y > (document.documentElement.clientHeight || window.innerHeight)) return false;\n  let pointContainer = document.elementFromPoint(elemCenter.x, elemCenter.y);\n  if (!pointContainer) return false;\n  do {\n    if (pointContainer === elem) return true;\n    // @ts-ignore\n  } while ((pointContainer = pointContainer.parentNode));\n  return false;\n};\n\nexport function getReference() {\n  let text = '';\n  let possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.=';\n\n  for (let i = 0; i < 15; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n  return text;\n}\n\nexport function getZonedTime(dateString: string, pattern: string) {\n  const date = new Date(dateString);\n  const timeZone =\n    typeof window.Intl === undefined ? '' : window.Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const zonedDate = utcToZonedTime(date, timeZone);\n  return format(zonedDate, pattern);\n}\n\nexport function formatCurrency(amount: Number) {\n  const amountNotUndefined = Number(amount) || 0;\n  const amountInDecimal = amountNotUndefined.toLocaleString('en-US');\n  return amountInDecimal;\n}\n\nexport const getSubscriptionPlanItemIcon = (service: string) => {\n  const services_with_icons: Array<string> = [\n    'apps.twitter',\n    'apps.messenger',\n    'apps.whatsapp',\n    'apps.instagram',\n    'apps.lists',\n    'apps.lists.rows',\n    'apps.lists.columns',\n    'credits.campaign',\n    'credits.social',\n  ];\n  if (services_with_icons.includes(service)) return `/images/subscription-items/${service}.svg`;\n  return '/images/subscription-items/apps.twitter.svg';\n};\n\nexport const getSubscriptionPlanItemUnit = (service: string) => {\n  if (service.includes('credits')) return 'credit';\n  if (['apps.twitter', 'apps.messenger', 'apps.whatsapp', 'apps.instagram'].includes(service))\n    return 'account';\n  if (service === 'apps.lists') return 'list';\n  if (service === 'apps.lists.rows') return 'row';\n  if (service === 'apps.lists.columns') return 'column';\n  return 'unit';\n};\nexport const numberWithCommas = (x: number | undefined) =>\n  x\n    ? Number.isInteger(x)\n      ? x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n      : x.toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n    : '0';\n\nexport const formUrlQueryFromObject = (obj: { [k: string]: any }) => {\n  const query = new URLSearchParams();\n  Object.keys(obj).forEach(key => {\n    const value = obj[key];\n    value && query.append(key, value);\n  });\n\n  return query.toString();\n};\n\nexport const toNumber = (value: string) => parseFloat(value.replace(/,/g, ''));\n\nexport const toThousandString = (text: string) => {\n  const numberValue = toNumber(text);\n  if (text.includes('.')) {\n    const parts = text.split('.');\n\n    if (parts.length > 1) {\n      const n = parts[0] ? toNumber(parts[0]) : 0;\n      const part0 = new Intl.NumberFormat('en-GB').format(n);\n      const part1 = parts[1].toString().substring(0, 2);\n      return `${part0}.${part1}`;\n    } else {\n      return text;\n    }\n  } else {\n    return new Intl.NumberFormat().format(numberValue);\n  }\n};\n\nexport function uploadFile(options: {\n  url: string;\n  file: File;\n  data?: any;\n  responseKey?: string;\n  onProgress: (percentage: number) => void;\n}) {\n  const { url, data, file, onProgress, responseKey } = options;\n\n  return new Promise<string>((res, rej) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', url);\n\n    xhr.onload = () => {\n      const resp = JSON.parse(xhr.responseText);\n      res(resp[responseKey ?? '']);\n    };\n    xhr.onerror = evt => rej(evt);\n    xhr.onabort = evt => console.log(evt);\n    xhr.upload.onprogress = event => {\n      if (event.lengthComputable) {\n        const percentage = (event.loaded / event.total) * 100;\n        onProgress(Math.round(percentage));\n      }\n    };\n\n    const formData = toFormData(data, file);\n\n    xhr.send(formData);\n  });\n}\n\nexport const isServer = !(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n"]},"metadata":{},"sourceType":"module"}